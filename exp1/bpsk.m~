function [ output ] = bpsk( input, f0 )
%   Modulates a signal by BPSK
%   f0 denotes the center frequency of the BPSK modulation.
%   both input and output are row vectors.

fs = 4096;     % Define the sampling rate.
dt = 1/fs;     % Samping time interval.
len = length(input);
n = fs/f0;      % For every bit, use n samples for modulation.

s = kron(input, ones(1, n));    % Repeat every bit by fs/f0 times so as to match the samples
t = (1:(len*n))*dt;             % The complete time sequence for modualtion.

output = cos(2*pi*f0*t + 

% outlength = 1024;
% input_padded = padding(input,outlength);
% for i = 1:outlength
%    output(i) = cos(2*pi*f0*(i-1) + pi*input_padded(i));
% end
% output = cos(2*pi/f0*(1:outlength));
end

% function [ output ] = BPSK1( input, f0 )
% %BPSK1 ????
% %   ????????????????
% deltaT=1/65536;
% tk=(0:256)*deltaT;
% in=input*2-1;
% s=length(in);
% carry=cos(2*pi*f0*tk);
% inputtime=kron(in,ones(1,257));
% out=repmat(carry,1,s);
% output=inputtime.*out;
% end